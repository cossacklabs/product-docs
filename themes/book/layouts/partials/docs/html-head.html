<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="{{ default .Summary .Description }}">
<meta name="theme-color" content="#FFFFFF">

{{- template "_internal/opengraph.html" . -}}

<title>{{ partial "docs/title" . }}{{if eq (ne .Site.Title "") (not .IsHome)}} | {{ .Site.Title -}}{{end}}</title>

{{- $manifest := resources.Get "manifest.json" | resources.ExecuteAsTemplate "manifest.json" . }}
<link rel="manifest"rel="manifest" crossorigin="use-credentials" href="{{ $manifest.RelPermalink }}">
<link rel="icon" href="{{ "favicon.png" | relURL }}" type="image/x-icon">

{{- range .Translations }}
<link rel="alternate" hreflang="{{ .Language.Lang }}" href="{{ .Permalink }}" title="{{ partial "docs/title" . }}">
{{ end -}}

<!-- Theme stylesheet, you can customize scss by creating `assets/custom.scss` in your website -->
{{- $styles := resources.Get "book.scss" | resources.ExecuteAsTemplate "book.scss" . | resources.ToCSS | resources.Minify | resources.Fingerprint }}
<link rel="stylesheet" href="{{ $styles.RelPermalink }}" integrity="{{ $styles.Data.Integrity }}">

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Maven+Pro:wght@400;500;600;700;900&family=Red+Hat+Display:wght@400;500;600;700;900&family=Fira+Mono:wght@500&display=swap">

{{- if default true .Site.Params.BookSearch }}
  {{- if .FirstSection.Params.searchScope }}
    {{- $searchScope := printf "%s" .FirstSection.Params.searchScope }}
    {{- $baseSearchJSFileName := printf "search-%s.js" $searchScope }}

    {{- $searchJSFile := printf "%s.search-%s.js" (.Language.Lang) ($searchScope) }}
    {{- $searchJS := resources.Get $baseSearchJSFileName | resources.ExecuteAsTemplate $searchJSFile . | resources.Minify | resources.Fingerprint }}
    <script defer src="{{ $searchJS.RelPermalink }}" integrity="{{ $searchJS.Data.Integrity }}"></script>
  {{- else }}
    {{- $searchJSFile := printf "%s.search-all.js" .Language.Lang }}
    {{- $searchJS := resources.Get "search-all.js" | resources.ExecuteAsTemplate $searchJSFile . | resources.Minify | resources.Fingerprint }}
    <script defer src="{{ $searchJS.RelPermalink }}" integrity="{{ $searchJS.Data.Integrity }}"></script>
  {{ end -}}
{{ end -}}

{{- if .Site.Params.BookServiceWorker }}
{{- $swJS := resources.Get "sw-register.js" | resources.ExecuteAsTemplate "sw.js" . | resources.Minify | resources.Fingerprint }}
<script defer src="{{ $swJS.RelPermalink }}" integrity="{{ $swJS.Data.Integrity }}"></script>
{{ end -}}

{{- template "_internal/google_analytics_async.html" . -}}

<!-- RSS -->
{{- with .OutputFormats.Get "rss" -}}
  {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
{{ end -}}

{{ "<!--" | safeHTML }}
Made with Book Theme
https://github.com/alex-shpak/hugo-book
{{ "-->" | safeHTML }}
