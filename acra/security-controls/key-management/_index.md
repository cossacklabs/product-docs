---
title: Key management
bookCollapseSection: true
weight: 3
---

# Acra key model 

**TODO: Describe all keys, link relevant sections**

## DEK security 

Each DEK is unique, so leaking one DEK is not a problem. DEK is attached to data in encrypted form and protected by KEK. Leaking KEK is a problem. 

# Acra's key lifecycle

Acra keys, unless in special cases, do not leave Acra-controlled ecosystem, thus making the key lifecycle easier: 

## Master Key

* Stays in KMS
* Generated during install
* Rotated DISCUSS: are we even allowing to rotate MK with current tooling? 
* Unlocks Acra, stays in memory (or can be purged and re-requested) 
* ...

## KEKs

* Generated by: ...

* Stored in KV store or DB
* Are encrypted by MK 
* Cached in Acra memory

* Purged when rotated

## Searchable hash keys

* Generated by: ...

* Stored in: ...
* ...

# Operations 

## Key generation 

Acra generates keys for you. 

TODO: Describe how

## Key rotation on-demand

Describe key rotation scheme

## Key rolling [ENTERPRISE]

Acra provides gradual background key rolling, done by: 

* Describe key rolling scheme

## Key backup

You can backup key store with KEKs, but please do it separately from MK backup

##
